"use strict";(self.webpackChunk_funki_docs_frontend=self.webpackChunk_funki_docs_frontend||[]).push([[7832],{6348:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>r,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"tools/clients/viem","title":"viem","description":"Documentation for using Viem, a TypeScript interface for EVM-compatible blockchains. This page covers installation, setup, and various functionalities such as reading and writing blockchain data and interacting with smart contracts on Funki.","source":"@site/docs/tools/clients/viem.md","sourceDirName":"tools/clients","slug":"/tools/clients/viem","permalink":"/docs/tools/clients/viem","draft":false,"unlisted":false,"editUrl":"https://github.com/funkichain/docs/edit/main/packages/frontend/docs/tools/clients/viem.md","tags":[],"version":"current","lastUpdatedAt":1734445511000,"frontMatter":{"title":"viem","slug":"/tools/clients/viem","order":"6.9.3","description":"Documentation for using Viem, a TypeScript interface for EVM-compatible blockchains. This page covers installation, setup, and various functionalities such as reading and writing blockchain data and interacting with smart contracts on Funki.","keywords":["viem","Funki","Funki mainnet","Funki testnet","Ethereum","smart contracts","blockchain","RPC URL","JavaScript","TypeScript"]},"sidebar":"docSidebar","previous":{"title":"thirdweb SDK","permalink":"/docs/tools/clients/thirdweb-sdk"},"next":{"title":"web3.js","permalink":"/docs/tools/clients/web3"}}');var c=n(1085),s=n(1184);const a={title:"viem",slug:"/tools/clients/viem",order:"6.9.3",description:"Documentation for using Viem, a TypeScript interface for EVM-compatible blockchains. This page covers installation, setup, and various functionalities such as reading and writing blockchain data and interacting with smart contracts on Funki.",keywords:["viem","Funki","Funki mainnet","Funki testnet","Ethereum","smart contracts","blockchain","RPC URL","JavaScript","TypeScript"]},o="viem",r={},l=[{value:"Install",id:"install",level:2},{value:"Setup",id:"setup",level:2},{value:"Reading data from the blockchain",id:"reading-data-from-the-blockchain",level:2},{value:"Writing data to the blockchain",id:"writing-data-to-the-blockchain",level:2},{value:"Interacting with smart contracts",id:"interacting-with-smart-contracts",level:2}];function d(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(t.header,{children:(0,c.jsx)(t.h1,{id:"viem",children:"viem"})}),"\n",(0,c.jsx)(t.admonition,{type:"info",children:(0,c.jsx)(t.p,{children:"Viem is currently only available on Funki Sepolia testnet."})}),"\n",(0,c.jsxs)(t.p,{children:[(0,c.jsx)(t.a,{href:"https://viem.sh/",children:"viem"})," a TypeScript interface for Ethereum that provides low-level stateless primitives for interacting with Ethereum."]}),"\n",(0,c.jsx)(t.p,{children:"You can use viem to interact with smart contracts deployed on Funki."}),"\n",(0,c.jsx)(t.hr,{}),"\n",(0,c.jsx)(t.h2,{id:"install",children:"Install"}),"\n",(0,c.jsx)(t.p,{children:"To install viem run the following command:"}),"\n",(0,c.jsx)(t.pre,{children:(0,c.jsx)(t.code,{className:"language-bash",children:"npm install --save viem\n"})}),"\n",(0,c.jsx)(t.h2,{id:"setup",children:"Setup"}),"\n",(0,c.jsxs)(t.p,{children:["Before you can start using viem, you need to setup a ",(0,c.jsx)(t.a,{href:"https://viem.sh/docs/clients/intro.html",children:"Client"})," with a desired ",(0,c.jsx)(t.a,{href:"https://viem.sh/docs/clients/intro.html",children:"Transport"})," and ",(0,c.jsx)(t.a,{href:"https://viem.sh/docs/chains/introduction",children:"Chain"}),"."]}),"\n",(0,c.jsx)(t.pre,{children:(0,c.jsx)(t.code,{className:"language-javascript",children:"import { createPublicClient, http } from 'viem';\nimport { funki } from 'viem/chains';\n\nconst client = createPublicClient({\n  chain: funki,\n  transport: http(),\n});\n"})}),"\n",(0,c.jsxs)(t.admonition,{type:"info",children:[(0,c.jsxs)(t.p,{children:["To use Funki, you must specify ",(0,c.jsx)(t.code,{children:"funki"})," as the chain when creating a Client."]}),(0,c.jsxs)(t.p,{children:["To use Funki Sepolia (testnet), replace ",(0,c.jsx)(t.code,{children:"funki"})," with ",(0,c.jsx)(t.code,{children:"funkiSepolia"}),"."]})]}),"\n",(0,c.jsx)(t.h2,{id:"reading-data-from-the-blockchain",children:"Reading data from the blockchain"}),"\n",(0,c.jsxs)(t.p,{children:["Once you have created a client, you can use it to read and access data from Funki using ",(0,c.jsx)(t.a,{href:"https://viem.sh/docs/actions/public/introduction.html",children:"Public Actions"})]}),"\n",(0,c.jsxs)(t.p,{children:['Public Actions are client methods that map one-to-one with a "public" Ethereum RPC method (',(0,c.jsx)(t.code,{children:"eth_blockNumber"}),", ",(0,c.jsx)(t.code,{children:"eth_getBalance"}),", etc.)"]}),"\n",(0,c.jsxs)(t.p,{children:["For example, you can use the ",(0,c.jsx)(t.code,{children:"getBlockNumber"})," client method to get the latest block:"]}),"\n",(0,c.jsx)(t.pre,{children:(0,c.jsx)(t.code,{className:"language-javascript",children:"const blockNumber = await client.getBlockNumber();\n"})}),"\n",(0,c.jsx)(t.h2,{id:"writing-data-to-the-blockchain",children:"Writing data to the blockchain"}),"\n",(0,c.jsxs)(t.p,{children:["In order to write data to Funki, you need to create a Wallet client (",(0,c.jsx)(t.code,{children:"createWalletClient"}),") and specify an ",(0,c.jsx)(t.a,{href:"https://ethereum.org/en/developers/docs/accounts/",children:(0,c.jsx)(t.code,{children:"Account"})})," to use."]}),"\n",(0,c.jsx)(t.pre,{children:(0,c.jsx)(t.code,{className:"language-javascript",children:"import { createWalletClient, custom } from 'viem'\nimport { funki } from 'viem/chains'\n\n//highlight-start\nconst [account] = await window.ethereum.request({ method: 'eth_requestAccounts' })\n//highlight-end\n\nconst client = createWalletClient({\n  //highlight-next-line\n  account,\n  chain: funki,\n  transport: custom(window.ethereum)\n})\n\nclient.sendTransaction({ ... })\n"})}),"\n",(0,c.jsxs)(t.admonition,{type:"info",children:[(0,c.jsxs)(t.p,{children:["In addition to making a JSON-RPC request (",(0,c.jsx)(t.code,{children:"eth_requestAccounts"}),") to get an Account, viem provides various helper methods for creating an ",(0,c.jsx)(t.code,{children:"Account"}),", including: ",(0,c.jsx)(t.a,{href:"https://viem.sh/docs/accounts/privateKey.html",children:(0,c.jsx)(t.code,{children:"privateKeyToAccount"})}),", ",(0,c.jsx)(t.a,{href:"https://viem.sh/docs/accounts/mnemonic.html",children:(0,c.jsx)(t.code,{children:"mnemonicToAccount"})}),", and ",(0,c.jsx)(t.a,{href:"https://viem.sh/docs/accounts/hd.html",children:(0,c.jsx)(t.code,{children:"hdKeyToAccount"})}),"."]}),(0,c.jsxs)(t.p,{children:["To use Funki Sepolia (testnet), replace ",(0,c.jsx)(t.code,{children:"funki"})," with ",(0,c.jsx)(t.code,{children:"funkiSepolia"}),"."]})]}),"\n",(0,c.jsx)(t.h2,{id:"interacting-with-smart-contracts",children:"Interacting with smart contracts"}),"\n",(0,c.jsxs)(t.p,{children:["You can use viem to interact with a smart contract on Funki by creating a ",(0,c.jsx)(t.code,{children:"Contract"})," instance using ",(0,c.jsx)(t.a,{href:"https://viem.sh/docs/contract/getContract.html",children:(0,c.jsx)(t.code,{children:"getContract"})})," and passing it the contract ABI, contract address, and ",(0,c.jsx)(t.a,{href:"https://viem.sh/docs/clients/public.html",children:"Public"})," and/or ",(0,c.jsx)(t.a,{href:"https://viem.sh/docs/clients/wallet.html",children:"Wallet"})," Client:"]}),"\n",(0,c.jsx)(t.pre,{children:(0,c.jsx)(t.code,{className:"language-javascript",children:"import { getContract } from 'viem';\nimport { wagmiAbi } from './abi';\nimport { publicClient } from './client';\n\n// 1. Create contract instance\nconst contract = getContract({\n  address: 'CONTRACT_ADDRESS',\n  abi: wagmiAbi,\n  publicClient,\n});\n\n// 2. Call contract methods, listen to events, etc.\nconst result = await contract.read.totalSupply();\n"})}),"\n",(0,c.jsx)(t.admonition,{type:"info",children:(0,c.jsxs)(t.p,{children:[(0,c.jsx)(t.code,{children:"CONTRACT_ADDRESS"})," is the address of the deployed contract."]})})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,c.jsx)(t,{...e,children:(0,c.jsx)(d,{...e})}):d(e)}},1184:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>o});var i=n(4041);const c={},s=i.createContext(c);function a(e){const t=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:a(e.components),i.createElement(s.Provider,{value:t},e.children)}}}]);