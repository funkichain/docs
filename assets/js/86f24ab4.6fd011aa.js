"use strict";(self.webpackChunk_funki_docs_frontend=self.webpackChunk_funki_docs_frontend||[]).push([[42],{599:(t,n,e)=>{e.r(n),e.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>d,frontMatter:()=>s,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"tutorials/interact-with-standard-bridge","title":"Interact with Standard Bridge","description":"","source":"@site/docs/tutorials/interact-with-standard-bridge.md","sourceDirName":"tutorials","slug":"/tutorials/interact-with-standard-bridge","permalink":"/docs/tutorials/interact-with-standard-bridge","draft":false,"unlisted":false,"editUrl":"https://github.com/funkichain/docs/edit/main/packages/frontend/docs/tutorials/interact-with-standard-bridge.md","tags":[],"version":"current","lastUpdatedAt":1734445511000,"frontMatter":{"title":"Interact with Standard Bridge","slug":"/tutorials/interact-with-standard-bridge","order":5.9,"description":""},"sidebar":"docSidebar","previous":{"title":"Simple Fungible Tokens","permalink":"/docs/tutorials/simple-fungible-tokens"},"next":{"title":"Connect Metamask","permalink":"/docs/tutorials/connect-metamask"}}');var a=e(1085),r=e(1184);const s={title:"Interact with Standard Bridge",slug:"/tutorials/interact-with-standard-bridge",order:5.9,description:""},o="Prerequisites",l={},c=[{value:"Overview",id:"overview",level:2},{value:"Steps",id:"steps",level:2},{value:"<strong>1. Set up Viem Clients</strong>",id:"1-set-up-viem-clients",level:3},{value:"<strong>2. Build the Deposit Transaction</strong>",id:"2-build-the-deposit-transaction",level:3},{value:"<strong>3. Execute the Deposit Transaction</strong>",id:"3-execute-the-deposit-transaction",level:3},{value:"<strong>4. Wait for Transaction to be Processed</strong>",id:"4-wait-for-transaction-to-be-processed",level:3},{value:"<strong>5. Compute the L2 Transaction Hash</strong>",id:"5-compute-the-l2-transaction-hash",level:3},{value:"<strong>6. Wait for Transaction to be Processed</strong>",id:"6-wait-for-transaction-to-be-processed",level:3},{value:"<strong>Overview</strong>",id:"overview-1",level:2},{value:"Steps",id:"steps-1",level:2},{value:"<strong>1. Set up Viem Clients</strong>",id:"1-set-up-viem-clients-1",level:3},{value:"<strong>2. Initiate Withdrawal</strong>",id:"2-initiate-withdrawal",level:3},{value:"<strong>3. Prove Withdrawal</strong>",id:"3-prove-withdrawal",level:3},{value:"<strong>4. Finalize Withdrawal</strong>",id:"4-finalize-withdrawal",level:3}];function h(t){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...t.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"prerequisites",children:"Prerequisites"})}),"\n",(0,a.jsx)(n.p,{children:"Before interacting with the Standard Bridge, ensure you have a solid understanding of:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Ethereum and Layer 2:"})," Ethereum fundamentals and Layer 2 scaling, especially Optimistic Rollups."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Web3 Development:"})," Interacting with smart contracts and handling crypto transactions in Javascript/Typescript."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Wallet Management:"})," Understanding crypto wallets, especially browser extensions like MetaMask."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Transaction Mechanics:"})," Gas fees, confirmation times, and how transactions work on Ethereum and Layer 2."]}),"\n"]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h1,{id:"deposits",children:"Deposits"}),"\n",(0,a.jsxs)(n.p,{children:["This guide will demonstrate how to deposit (bridge) ",(0,a.jsx)(n.strong,{children:"1 Ether"})," from ",(0,a.jsx)(n.strong,{children:"Mainnet"})," to ",(0,a.jsx)(n.strong,{children:"Funki"}),"."]}),"\n",(0,a.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,a.jsxs)(n.p,{children:["Here is an end-to-end overview of how to execute a deposit transaction. We will break it down into ",(0,a.jsx)(n.a,{href:"https://viem.sh/op-stack/guides/deposits#steps",children:"Steps"})," below."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"import { getL2TransactionHashes } from 'viem/op-stack'\nimport { account, publicClientL1, publicClientL2, walletClientL1 } from './config'\n \n// Build parameters for the transaction on the L2.\nconst args = await publicClientL2.buildDepositTransaction({\n  mint: parseEther('1'),\n  to: account.address,\n})\n \n// Execute the deposit transaction on the L1.\nconst hash = await walletClientL1.depositTransaction(args)\n \n// Wait for the L1 transaction to be processed.\nconst receipt = await publicClientL1.waitForTransactionReceipt({ hash })\n \n// Get the L2 transaction hash from the L1 transaction receipt.\nconst [l2Hash] = getL2TransactionHashes(receipt)\n \n// Wait for the L2 transaction to be processed.\nconst l2Receipt = await publicClientL2.waitForTransactionReceipt({ \n  hash: l2Hash \n})\n"})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"steps",children:"Steps"}),"\n",(0,a.jsx)(n.h3,{id:"1-set-up-viem-clients",children:(0,a.jsx)(n.strong,{children:"1. Set up Viem Clients"})}),"\n",(0,a.jsx)(n.p,{children:"First, we will set up our Viem Clients for the Mainnet and Funki chains, including the necessary extensions for the OP Stack."}),"\n",(0,a.jsxs)(n.p,{children:["We will place these in a ",(0,a.jsx)(n.code,{children:"config.ts"})," file."]}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsxs)(n.p,{children:["The example belows how to set up a Client for a ",(0,a.jsx)(n.strong,{children:"JSON-RPC Account (Browser Extension, WalletConnect,  etc)"})]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"// Import Viem modules.\nimport { createPublicClient, createWalletClient, custom, http } from 'viem'\nimport { mainnet, funki } from 'viem/chains'\nimport { publicActionsL2, walletActionsL1 } from 'viem/op-stack'\n \n// Retrieve Account from an EIP-1193 Provider. \nexport const [account] = await window.ethereum.request({ \n  method: 'eth_requestAccounts' \n}) \n \nexport const publicClientL1 = createPublicClient({\n  chain: mainnet,\n  transport: http()\n})\n \nexport const walletClientL1 = createWalletClient({\n  account,\n  chain: mainnet,\n  transport: custom(window.ethereum)\n}).extend(walletActionsL1())\n \nexport const publicClientL2 = createPublicClient({\n  chain: funki,\n  transport: http()\n}).extend(publicActionsL2())\n"})}),"\n",(0,a.jsx)(n.h3,{id:"2-build-the-deposit-transaction",children:(0,a.jsx)(n.strong,{children:"2. Build the Deposit Transaction"})}),"\n",(0,a.jsx)(n.p,{children:"Next, we will build the deposit transaction on the Funki (L2) chain using the Clients that we created in the previous step."}),"\n",(0,a.jsxs)(n.p,{children:["In the example below, we want to deposit ",(0,a.jsx)(n.strong,{children:"1 Ether"})," (via ",(0,a.jsx)(n.code,{children:"mint"}),") onto the Funki chain, to ourselves (",(0,a.jsx)(n.code,{children:"account.address"}),")."]}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.code,{children:"mint"})," value is the value to deposit (mint) on the Funki (L2) chain. It is debited from the account's Mainnet (L1) balance.\nYou can also use someone else's address as the ",(0,a.jsx)(n.code,{children:"to"})," value if you wanted to."]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"// Import Viem Clients.\nimport { publicClientL2 } from './config'\n \n// Build parameters for the transaction on the L2.\nconst args = await publicClientL2.buildDepositTransaction({\n  mint: parseEther('1')\n  to: account.address,\n})\n"})}),"\n",(0,a.jsx)(n.h3,{id:"3-execute-the-deposit-transaction",children:(0,a.jsx)(n.strong,{children:"3. Execute the Deposit Transaction"})}),"\n",(0,a.jsx)(n.p,{children:"After that, we will execute the deposit transaction on the Mainnet (L1) chain."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"// Import Viem Clients.\nimport { account, publicClientL2, walletClientL1 } from './config'\n \n// Build parameters for the transaction on the L2.\nconst args = await publicClientL2.buildDepositTransaction({\n  mint: parseEther('1')\n  to: account.address,\n})\n \n// Execute the deposit transaction on the L1.\nconst hash = await walletClientL1.depositTransaction(args) \n"})}),"\n",(0,a.jsx)(n.h3,{id:"4-wait-for-transaction-to-be-processed",children:(0,a.jsx)(n.strong,{children:"4. Wait for Transaction to be Processed"})}),"\n",(0,a.jsx)(n.p,{children:"Once we have broadcast the transaction to the Mainnet (L1) chain, we need to wait for it to be processed on a block so we can extract the transaction receipt. We will need the transaction receipt to extract the transaction on the Funki (L2) chain."}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsxs)(n.p,{children:["When the transaction has been processed, the ",(0,a.jsx)(n.code,{children:"mint"})," value (1 Ether) will be debited from the account's Mainnet (L1) balance."]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"// Import Viem Clients.\nimport { \n  account, \n  publicClientL1, \n  publicClientL2,\n  walletClientL1 \n} from './config'\n \n// Build parameters for the transaction on the L2.\nconst args = await publicClientL2.buildDepositTransaction({\n  mint: parseEther('1')\n  to: account.address,\n})\n \n// Execute the deposit transaction on the L1. \nconst hash = await walletClientL1.depositTransaction(args) \n \n// Wait for the L1 transaction to be processed.\nconst receipt = await publicClientL1.waitForTransactionReceipt({ hash }) \n"})}),"\n",(0,a.jsx)(n.h3,{id:"5-compute-the-l2-transaction-hash",children:(0,a.jsx)(n.strong,{children:"5. Compute the L2 Transaction Hash"})}),"\n",(0,a.jsx)(n.p,{children:"Once we have the transaction receipt from the Mainnet (L1) chain, we can extract the Funki (L2) transaction hash from the logs in the transaction receipt."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"// Import Viem Clients.\nimport { \n  account, \n  publicClientL1, \n  publicClientL2,\n  walletClientL1 \n} from './config'\n \n// Build parameters for the transaction on the L2.\nconst args = await publicClientL2.buildDepositTransaction({\n  mint: parseEther('1')\n  to: account.address,\n})\n \n// Execute the deposit transaction on the L1. \nconst hash = await walletClientL1.depositTransaction(args) \n \n// Wait for the L1 transaction to be processed. \nconst receipt = await publicClientL1.waitForTransactionReceipt({ hash }) \n \n// Get the L2 transaction hash from the L1 transaction receipt.\nconst [l2Hash] = getL2TransactionHashes(receipt) \n"})}),"\n",(0,a.jsx)(n.h3,{id:"6-wait-for-transaction-to-be-processed",children:(0,a.jsx)(n.strong,{children:"6. Wait for Transaction to be Processed"})}),"\n",(0,a.jsx)(n.p,{children:"Now that we have the Funki (L2) transaction hash, we can wait for the transaction to be processed on the Funki (L2) chain."}),"\n",(0,a.jsxs)(n.p,{children:["Once the ",(0,a.jsx)(n.code,{children:"waitForTransactionReceipt"})," call resolves, the transaction has been processed and you should now be credited with 1 Ether on the Funki (L2) chain \ud83e\udd73"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"// Import Viem Clients.\nimport { \n  account, \n  publicClientL1, \n  publicClientL2,\n  walletClientL1 \n} from './config'\n \n// Build parameters for the transaction on the L2.\nconst args = await publicClientL2.buildDepositTransaction({\n  mint: parseEther('1')\n  to: account.address,\n})\n \n// Execute the deposit transaction on the L1. \nconst hash = await walletClientL1.depositTransaction(args) \n \n// Wait for the L1 transaction to be processed. \nconst receipt = await publicClientL1.waitForTransactionReceipt({ hash }) \n \n// Get the L2 transaction hash from the L1 transaction receipt. \nconst [l2Hash] = getL2TransactionHashes(receipt) \n \n// Wait for the L2 transaction to be processed.\nconst l2Receipt = await publicClientL2.waitForTransactionReceipt({  \n  hash: l2Hash  \n}) \n"})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h1,{id:"withdrawals",children:(0,a.jsx)(n.strong,{children:"Withdrawals"})}),"\n",(0,a.jsxs)(n.p,{children:["This guide will demonstrate how to withdraw ",(0,a.jsx)(n.strong,{children:"1 Ether"})," from ",(0,a.jsx)(n.strong,{children:"Funki"})," to ",(0,a.jsx)(n.strong,{children:"Mainnet"}),"."]}),"\n",(0,a.jsx)(n.h2,{id:"overview-1",children:(0,a.jsx)(n.strong,{children:"Overview"})}),"\n",(0,a.jsx)(n.p,{children:"Withdrawals on Funki involve a three-step process:"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Initiating"})," the Withdrawal Transaction on L2 (Funki)"]}),"\n"]}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Wait up to one hour for the L2 Output containing the transaction to be proposed."}),"\n"]}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Proving"})," the Withdrawal Transaction on L1 (Mainnet)"]}),"\n"]}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Wait for the 7-day finalization period"}),"\n"]}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Finalizing"})," the Withdrawal Transaction on L1 (Mainnet)"]}),"\n"]}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Withdrawal complete!"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Below is a complete end-to-end overview of how to execute a withdrawal. Don't worry\u2014we'll break it down into steps later."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"import { getWithdrawals } from 'viem/op-stack'\nimport { \n  account, \n  publicClientL1, \n  walletClientL1,\n  publicClientL2, \n  walletClientL2 \n} from './config'\n \n// Build parameters to initiate the withdrawal transaction on the L1.\nconst args = await publicClientL1.buildInitiateWithdrawal({\n  to: account.address,\n  value: parseEther('1')\n})\n \n// Execute the initiate withdrawal transaction on the L2.\nconst hash = await walletClientL2.initiateWithdrawal(args)\n \n// Wait for the initiate withdrawal transaction receipt.\nconst receipt = await publicClientL2.waitForTransactionReceipt({ hash })\n \n// Wait until the withdrawal is ready to prove.\nconst { output, withdrawal } = await publicClientL1.waitToProve({\n  receipt,\n  targetChain: walletClientL2.chain\n})\n \n// Build parameters to prove the withdrawal on the L2.\nconst proveArgs = await publicClientL2.buildProveWithdrawal({\n  output,\n  withdrawal,\n})\n \n// Prove the withdrawal on the L1.\nconst proveHash = await walletClientL1.proveWithdrawal(proveArgs)\n \n// Wait until the prove withdrawal is processed.\nconst proveReceipt = await publicClientL1.waitForTransactionReceipt({\n  hash: proveHash\n})\n \n// Wait until the withdrawal is ready to finalize.\nawait publicClientL1.waitToFinalize({\n  targetChain: walletClientL2.chain,\n  withdrawalHash: withdrawal.withdrawalHash,\n})\n \n// Finalize the withdrawal.\nconst finalizeHash = await walletClientL1.finalizeWithdrawal({\n  targetChain: walletClientL2.chain,\n  withdrawal,\n})\n \n// Wait until the withdrawal is finalized.\nconst finalizeReceipt = await publicClientL1.waitForTransactionReceipt({\n  hash: finalizeHash\n})\n"})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"steps-1",children:"Steps"}),"\n",(0,a.jsx)(n.h3,{id:"1-set-up-viem-clients-1",children:(0,a.jsx)(n.strong,{children:"1. Set up Viem Clients"})}),"\n",(0,a.jsx)(n.p,{children:"First, we will set up our Viem Clients for the Mainnet and Funki chains, including the necessary extensions for the OP Stack."}),"\n",(0,a.jsx)(n.p,{children:"We will need the following clients:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"publicClientL1"}),"/",(0,a.jsx)(n.code,{children:"walletClientL1"}),": Public & Wallet Client for ",(0,a.jsx)(n.strong,{children:"Mainnet"})]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"publicClientL2"}),"/",(0,a.jsx)(n.code,{children:"walletClientL2"}),": Public & Wallet Client for ",(0,a.jsx)(n.strong,{children:"Funki"})]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["We will place these in a ",(0,a.jsx)(n.code,{children:"config.ts"})," file."]}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsxs)(n.p,{children:["The example belows how to set up a Client for a ",(0,a.jsx)(n.strong,{children:"JSON-RPC Account (Browser Extension, WalletConnect,  etc)"})]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"// Import Viem modules.\nimport { createPublicClient, createWalletClient, custom, http } from 'viem'\nimport { mainnet, funki } from 'viem/chains'\nimport { publicActionsL1, walletActionsL1, walletActionsL2 } from 'viem/op-stack'\n \n// Retrieve Account from an EIP-1193 Provider. \nexport const [account] = await window.ethereum.request({ \n  method: 'eth_requestAccounts' \n}) \n \nexport const publicClientL1 = createPublicClient({\n  chain: mainnet,\n  transport: http()\n}).extend(publicActionsL1())\n \nexport const walletClientL1 = createWalletClient({\n  account,\n  chain: mainnet,\n  transport: custom(window.ethereum)\n}).extend(walletActionsL1())\n \nexport const publicClientL2 = createPublicClient({\n  chain: funki,\n  transport: http()\n})\n \nexport const walletClientL2 = createWalletClient({\n  account,\n  chain: funki,\n  transport: custom(window.ethereum)\n}).extend(walletActionsL2())\n"})}),"\n",(0,a.jsx)(n.h3,{id:"2-initiate-withdrawal",children:(0,a.jsx)(n.strong,{children:"2. Initiate Withdrawal"})}),"\n",(0,a.jsx)(n.p,{children:"Next, we will initiate the withdrawal transaction on the L2 by building the parameters on the L1 (1), and then executing the transaction on the L2 (2). We also want to wait for the L2 transaction to be processed on a block (3) before we continue."}),"\n",(0,a.jsx)(n.p,{children:"In the example below, we are initiating a withdrawal for 1 Ether from the L2 (Funki) to the L1 (Mainnet)."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"import { \n  account, \n  publicClientL1,\n  publicClientL2, \n  walletClientL2 \n} from './config'\n \n// 1. Build parameters to initiate the withdrawal transaction on the L1.\nconst args = await publicClientL1.buildInitiateWithdrawal({\n  to: account.address,\n  value: parseEther('1')\n})\n \n// 2. Execute the initiate withdrawal transaction on the L2.\nconst hash = await walletClientL2.initiateWithdrawal(args)\n \n// 3. Wait for the initiate withdrawal transaction receipt.\nconst receipt = await publicClientL2.waitForTransactionReceipt({ hash })\n"})}),"\n",(0,a.jsx)(n.h3,{id:"3-prove-withdrawal",children:(0,a.jsx)(n.strong,{children:"3. Prove Withdrawal"})}),"\n",(0,a.jsx)(n.p,{children:"After the initiate withdrawal transaction has been processed on a block on the L2, we will then need to prove that withdrawal on the L1."}),"\n",(0,a.jsx)(n.p,{children:"Before a withdrawal transaction can be proved, the transaction needs to be included in an L2 Output proposal. Until then, we will need to wait for the withdrawal transaction to be ready to be proved (1). This usually takes a maximum of one hour."}),"\n",(0,a.jsx)(n.p,{children:"Once the L2 output has been proposed, we will need to build the parameters for the prove withdrawal transaction on the L2 (2), and then execute the transaction on the L1 (3). We also want to wait for the L1 transaction to be processed on a block (4) before we continue."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"import { \n  account, \n  publicClientL1,\n  publicClientL2, \n  walletClientL1,\n  walletClientL2 \n} from './config'\n \n// (Shortcut) Get receipt from transaction created in Step 1.\nconst receipt = \n  await publicClientL2.getTransactionReceipt({ hash: '0x...' })\n \n// 1. Wait until the withdrawal is ready to prove.\nconst { output, withdrawal } = await publicClientL1.waitToProve({ \n  receipt, \n  targetChain: walletClientL2.chain \n}) \n \n// 2. Build parameters to prove the withdrawal on the L2.\nconst args = await publicClientL2.buildProveWithdrawal({ \n  output, \n  withdrawal, \n}) \n \n// 3. Prove the withdrawal on the L1.\nconst hash = await walletClientL1.proveWithdrawal(args) \n \n// 4. Wait until the prove withdrawal is processed.\nconst receipt = await publicClientL1.waitForTransactionReceipt({ \n  hash \n}) \n"})}),"\n",(0,a.jsx)(n.h3,{id:"4-finalize-withdrawal",children:(0,a.jsx)(n.strong,{children:"4. Finalize Withdrawal"})}),"\n",(0,a.jsx)(n.p,{children:"When the withdrawal transaction has been proved, we will then need to finalize that withdrawal on the L1."}),"\n",(0,a.jsx)(n.p,{children:"Before a withdrawal transaction can be finalized, we will need to wait the finalization period of 7 days (1)."}),"\n",(0,a.jsx)(n.p,{children:"After the finalization period has elapsed, we can finalize the withdrawal (2)."}),"\n",(0,a.jsx)(n.p,{children:"Once the withdrawal has been successfully finalized (3), then the withdrawal is complete! \ud83e\udd73"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"import { getWithdrawals } from 'viem/op-stack'\nimport { \n  account, \n  publicClientL1,\n  publicClientL2, \n  walletClientL1,\n  walletClientL2 \n} from './config'\n \n// (Shortcut) Get receipt from transaction created in Step 1.\nconst receipt = \n  await publicClientL2.getTransactionReceipt({ hash: '0x...' })\n \n// (Shortcut) Get withdrawals from receipt in Step 3.\nconst [withdrawal] = getWithdrawals(receipt)\n \n// 1. Wait until the withdrawal is ready to finalize.\nawait publicClientL1.waitToFinalize({ \n  targetChain: walletClientL2.chain, \n  withdrawalHash: withdrawal.withdrawalHash, \n}) \n \n// 2. Finalize the withdrawal.\nconst hash = await walletClientL1.finalizeWithdrawal({ \n  targetChain: walletClientL2.chain, \n  withdrawal, \n}) \n \n// 3. Wait until the withdrawal is finalized.\nconst receipt = await publicClientL1.waitForTransactionReceipt({ \n  hash \n}) \n"})})]})}function d(t={}){const{wrapper:n}={...(0,r.R)(),...t.components};return n?(0,a.jsx)(n,{...t,children:(0,a.jsx)(h,{...t})}):h(t)}},1184:(t,n,e)=>{e.d(n,{R:()=>s,x:()=>o});var i=e(4041);const a={},r=i.createContext(a);function s(t){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof t?t(n):{...n,...t}}),[n,t])}function o(t){let n;return n=t.disableParentContext?"function"==typeof t.components?t.components(a):t.components||a:s(t.components),i.createElement(r.Provider,{value:n},t.children)}}}]);